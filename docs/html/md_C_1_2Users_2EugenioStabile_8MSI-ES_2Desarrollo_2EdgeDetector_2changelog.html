<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>EdgeDetector Project: Changelog</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="photonicLogoBlanco.png"/></td>
  <td id="projectalign">
   <div id="projectname">EdgeDetector Project<span id="projectnumber">&#160;v2.0.0</span>
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_C_1_2Users_2EugenioStabile_8MSI-ES_2Desarrollo_2EdgeDetector_2changelog.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Changelog</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md0"></a> </p>
<h1><a class="anchor" id="autotoc_md1"></a>
[2.0.0] - 2024-05-17</h1>
<p>Fixed CPU version, added optimized CPU version.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Added</h2>
<h3><a class="anchor" id="autotoc_md3"></a>
AlgorithmFactory:</h3>
<ul>
<li>A new entry is added to the AlgorithmType enum for the optimized CPU version.</li>
</ul>
<h3><a class="anchor" id="autotoc_md4"></a>
Utils:</h3>
<ul>
<li>The function <b>verifySyntheticMatrixOutput</b> checks if the synthetic matrix output is correct.</li>
</ul>
<h3><a class="anchor" id="autotoc_md5"></a>
ZeroCrossingCPU:</h3>
<ul>
<li>Added <b>filterUpsampling</b> function. Previously, <b>filter2D</b> was used for both filters (derivative and upsampling). Now they are separated.</li>
</ul>
<h3><a class="anchor" id="autotoc_md6"></a>
ZeroCrossingOpenMP:</h3>
<ul>
<li>Optimized CPU version with vectorization (SSE) and parallelization (OpenMP).</li>
<li>This version performs the derivative filter, upsampling filter, and edge search in the <b>calculateEdges</b> function. On each iteration:<ul>
<li>Creates a new vector (<em>derivative data</em>) by applying the derivative filter to the input data.</li>
<li>Applies the upsampling filter to the derivative data if there is a zero crossing, and stores the result in the output vector.</li>
</ul>
</li>
</ul>
<h3><a class="anchor" id="autotoc_md7"></a>
Benchmarks:</h3>
<ul>
<li>The <b>ZeroCrossingBenchmark</b> header unifies the configuration of benchmarks for different functions using GoogleTest <a href="https://github.com/google/googletest/blob/main/docs/primer.md#test-fixtures-using-the-same-data-configuration-for-multiple-tests-same-data-multiple-tests">Fixtures</a>.</li>
</ul>
<h3><a class="anchor" id="autotoc_md8"></a>
Test:</h3>
<ul>
<li>The <b>ZeroCrossingTest</b> header unifies the configuration of tests for different functions using GoogleTest Fixtures.</li>
<li>The unit test version of <b>ZeroCrossingOpenMPTest</b> is created for the optimized CPU version.<ul>
<li>It contains the same unit tests as the CPU version and a test that checks if the result is correct with respect to the sequential version (<em>zeroCrossingOpenMP_compute_sameOutputAsCPU</em>).</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md9"></a>
Changed</h2>
<h3><a class="anchor" id="autotoc_md10"></a>
CMakeLists:</h3>
<ul>
<li>The -O2 (MSVC) / -O3 (GCC) flags is addded for optimization in the <em>Release</em> variant.</li>
<li>Flags for vectorization are added.</li>
</ul>
<h3><a class="anchor" id="autotoc_md11"></a>
Utils:</h3>
<ul>
<li>The <b>transpose</b> function was optimized for both CPU versions.</li>
<li>The <b>printMatrix</b> function now returns the first 10 decimal values.</li>
</ul>
<h3><a class="anchor" id="autotoc_md12"></a>
ZeroCrossingCPU:</h3>
<p>The CPU version has been modified for the derivative filter and upsampling. The previous version calculated the upsampling across the entire original matrix without preserving the original values, resulting in an altered signal. Consequently, the calculateEdges function searched for zero crossings in the entire upsampled signal, often leading to incorrect results due to the modified signal. In the current version, the original values are preserved during upsampling. The calculateEdges function now searches for zero crossings in the original signal instead of the upsampled signal. If a zero crossing is found, it then verifies the zero crossing within a specific range of the upsampled signal. This approach ensures that the calculation is both more efficient and accurate.</p>
<ul>
<li>The <b>filter2D</b> function is now called <b>filterDerivative</b>.</li>
<li>In <b>calculateUpsampling</b>, the creation of a <a class="el" href="classBuffer.html">Buffer</a> object <em>inPadded</em> to store the upsampling matrix is removed. Instead, it is done with a vector <em>inPadded</em> (same name).</li>
<li><b>calculateEdges</b> selects 2 values where there is a zero crossing and does the interpolation without modifying those 2 points. Also, it verifies if there is a zero crossing before performing the interpolation.</li>
</ul>
<h3><a class="anchor" id="autotoc_md13"></a>
Benchmarks:</h3>
<ul>
<li>The <b>Benchmark</b> file is modified to add the column <em>configuration</em>, which prints the version selected in the Markdown file output.</li>
<li>The <b>ZeroCrossingBenchmark</b> file is modified to use GoogleTest Fixtures. Also, benchmarks are added for the optimized CPU version.</li>
</ul>
<h3><a class="anchor" id="autotoc_md14"></a>
Test:</h3>
<ul>
<li>The <b>ZeroCrossingCPUTest</b> file is modified to use GoogleTest Fixtures. Also, unit tests are added for the optimized CPU version.</li>
<li>Created new unit tests (<em>zeroCrossingCPU_validate_SyntheticMatrix_Horizontal_success</em>) and (<em>zeroCrossingCPU_validate_SyntheticMatrix_Vertical_success</em>) to verify the output of the zeroCrossings both horizontally and vertically.</li>
</ul>
<h2><a class="anchor" id="autotoc_md15"></a>
Fixed</h2>
<h3><a class="anchor" id="autotoc_md16"></a>
ZeroCrossingCPU:</h3>
<ul>
<li>The performance of the version is improved by 10%.</li>
</ul>
<h3><a class="anchor" id="autotoc_md17"></a>
Benchmarks:</h3>
<ul>
<li>Error messages are displayed for all exceptions.</li>
</ul>
<h3><a class="anchor" id="autotoc_md18"></a>
Test:</h3>
<ul>
<li>Error messages are displayed for all exceptions. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
